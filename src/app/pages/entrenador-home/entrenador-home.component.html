<div class="admin-layout">
  <!-- Sidebar -->
  <app-sidebar [userId]="userId" [jugadorNombre]="coachNombre" [jugadorFoto]="coachFoto" [role]="'entrenador'"
    activePage="inicio">
  </app-sidebar>

  <!-- Main Content Area -->
  <main class="main-content">
    <!-- Top Header -->


    <!-- Skeleton Loading -->
    <div class="dashboard-grid" *ngIf="isLoading">
      <h3 class="section-title skeleton text" style="width: 200px; height: 32px;">Loading...</h3>
      <div class="actions-grid">
        <div class="action-card skeleton card" *ngFor="let i of [1,2,3,4]"></div>
      </div>
      <div class="today-classes-section">
        <h3 class="section-title skeleton text" style="width: 300px; height: 32px;">Loading...</h3>
        <div class="classes-list">
          <div class="class-card skeleton" style="height: 100px;" *ngFor="let i of [1,2]"></div>
        </div>
      </div>
    </div>

    <!-- Dashboard Content -->
    <div class="dashboard-grid fade-in" *ngIf="!isLoading">

      <!-- Stats Summary Widgets -->
      <div class="stats-row">
        <div class="stat-widget">
          <div class="widget-icon" style="background: rgba(37, 99, 235, 0.1); color: #2563eb;">ğŸ‘¤</div>
          <div class="widget-data">
            <span class="widget-val">{{ quickStats.totalAlumnos }}</span>
            <span class="widget-label">Alumnos Activos</span>
          </div>
        </div>
        <div class="stat-widget">
          <div class="widget-icon" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">ğŸ¾</div>
          <div class="widget-data">
            <span class="widget-val">{{ quickStats.clasesMes }}</span>
            <span class="widget-label">Clases el Mes</span>
          </div>
        </div>
        <div class="stat-widget">
          <div class="widget-icon" style="background: rgba(139, 92, 246, 0.1); color: #8b5cf6;">ğŸ‘¥</div>
          <div class="widget-data">
            <span class="widget-val">{{ quickStats.clasesGrupalesMes }}</span>
            <span class="widget-label">Grupales Mes</span>
          </div>
        </div>
        <div class="stat-widget highlight" [class.has-today]="quickStats.clasesHoy > 0">
          <div class="widget-icon" style="background: #111; color: #ccff00;">âš¡</div>
          <div class="widget-data">
            <span class="widget-val">{{ quickStats.clasesHoy }}</span>
            <span class="widget-label">Clases de Hoy</span>
          </div>
        </div>
      </div>



      <!-- Quick Actions Grid -->
      <h3 class="section-title">Panel de Control</h3>
      <div class="actions-grid">
        <div class="action-card primary" (click)="irAAlumnos()">
          <div class="card-content">
            <span class="card-icon">ğŸ‘¥</span>
            <h3>Mis Alumnos</h3>
            <p>Gestiona tu base de datos</p>
          </div>
          <span class="arrow-icon">â†’</span>
        </div>

        <div class="action-card secondary" (click)="irACalendario()">
          <div class="card-content">
            <span class="card-icon">ğŸ“…</span>
            <h3>Mi Agenda</h3>
            <p>Visualiza tus entrenamientos</p>
          </div>
          <span class="arrow-icon">â†’</span>
        </div>

        <div class="action-card tertiary" (click)="irAPacks()">
          <div class="card-content">
            <span class="card-icon">ğŸ“¦</span>
            <h3>Gestionar Packs</h3>
            <p>Crea y edita paquetes</p>
          </div>
          <span class="arrow-icon">â†’</span>
        </div>

        <div class="action-card quaternary" (click)="irADisponibilidad()">
          <div class="card-content">
            <span class="card-icon">â°</span>
            <h3>Disponibilidad</h3>
            <p>Configura tus horarios</p>
          </div>
          <span class="arrow-icon">â†’</span>
        </div>
      </div>

      <!-- Clases de Hoy y MaÃ±ana Section -->
      <div class="today-classes-section">
        <h3 class="section-title">PrÃ³ximas Clases</h3>

        <div class="classes-list" *ngIf="clasesHoyList.length > 0">
          <div class="class-card" *ngFor="let clase of clasesHoyList">
            <div class="time-col">
              <span class="day-badge" [class.tomorrow]="clase.diaLabel === 'MaÃ±ana'">{{ clase.diaLabel }}</span>
              <span class="time">{{ clase.hora }}</span>
            </div>
            <div class="info-col">
              <span class="class-title">{{ clase.titulo }}</span>
              <span class="class-subtitle">{{ clase.subtitulo }}</span>
            </div>
            <div class="type-col">
              <span class="badge" [ngClass]="clase.tipo === 'Grupal' ? 'badge-grupal' : 'badge-indiv'">
                {{ clase.tipo }}
              </span>
            </div>
          </div>
        </div>

        <div class="empty-classes" *ngIf="clasesHoyList.length === 0">
          <p>No hay clases para hoy ni maÃ±ana ğŸ‰</p>
        </div>
      </div>

    </div>
  </main>
</div>